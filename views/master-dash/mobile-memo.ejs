<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RINL-VSP - Memo <%= memo.memoNumber %></title>
    <link rel="stylesheet" href="/mobile.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
  </head>
  <body>
    <div class="container">
      <header class="main-header">
        <div class="header-content">
          <div class="logo-section">
            <i class="fas fa-industry"></i>
            <div class="title-section">
              <h1>RASHTRIYA ISPAT NIGAM LIMITED</h1>
              <p>Visakhapatnam Steel Plant</p>
            </div>
          </div>
          <div class="system-info">
            <p>Material Management System</p>
            <p class="update-info">Last Updated: May 2025</p>
          </div>
        </div>
        <div class="sub-header">
          <h2>RAKE PLACEMENT MEMO SYSTEM</h2>
        </div>
      </header>

      <main class="memo-container">
        <div class="memo-box">
          <div class="memo-header">
            <h2>Placement Memo Details</h2>
            <div class="memo-number">Memo No: <%= memo.memoNumber %></div>
          </div>

          <div class="memo-content">
            <div class="info-section">
              <div class="info-row">
                <span class="info-label"
                  ><i class="fas fa-calendar"></i> Date:</span
                >
                <span class="info-value">
                  <%= memo.date ? new Date(memo.date).toLocaleDateString() :
                  "Not specified" %>
                </span>
              </div>
              <div class="info-row">
                <span class="info-label"
                  ><i class="fas fa-map-marker-alt"></i> Loading Point:</span
                >
                <span class="info-value">
                  <%= memo.loadingPoint ? `${memo.loadingPoint.code} -
                  ${memo.loadingPoint.description}` : "Not specified" %>
                </span>
              </div>
              <div class="info-row">
                <span class="info-label"
                  ><i class="fas fa-map-marker"></i> Unloading Point:</span
                >
                <span class="info-value">
                  <%= memo.unloadingPoint ? `${memo.unloadingPoint.code} -
                  ${memo.unloadingPoint.description}` : "Not specified" %>
                </span>
              </div>
            </div>

            <div class="wagons-section">
              <h3><i class="fas fa-train"></i> Wagon Details</h3>
              <div class="wagons-list">
                <% if (memo.wagons && memo.wagons.length > 0) { %> <%
                memo.wagons.forEach(function(wagon) { %>
                <div class="wagon-card">
                  <div class="wagon-header">
                    <span class="wagon-number"
                      ><%= wagon.wagonNumber || "N/A" %></span
                    >
                    <span class="wagon-type"
                      ><%= wagon.wagonType || "N/A" %></span
                    >
                  </div>
                  <div class="wagon-details">
                    <div class="detail-row">
                      <span class="detail-label">Tare:</span>
                      <span class="detail-value"
                        ><%= wagon.tare || "N/A" %></span
                      >
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">Challan:</span>
                      <span class="detail-value"
                        ><%= wagon.challan_number || "N/A" %></span
                      >
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">Release:</span>
                      <span class="detail-value">
                        <%= wagon.releaseDate ? `${wagon.releaseDate}
                        ${wagon.releaseTime || ""}` : "Not set" %>
                      </span>
                    </div>
                  </div>
                </div>
                <% }); %> <% } else { %>
                <div class="no-wagons">
                  <p>No wagon details available</p>
                </div>
                <% } %>
              </div>
            </div>
          </div>
        </div>
      </main>

      <footer class="main-footer">
        <p>
          &copy; 2025 Rashtriya Ispat Nigam Limited - Visakhapatnam Steel Plant.
          All rights reserved.
        </p>
      </footer>
    </div>
  </body>
</html>
